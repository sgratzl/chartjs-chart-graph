<!doctype html>
<html>
  <head>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-dragdata"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>

    <script src="../build/index.umd.js"></script>
  </head>

  <body>
    <div style="width: 75%">
      <canvas id="canvas"></canvas>
    </div>
    <button id="destroy">Destroy</button>
    <script>
      Chart.register(ChartDataLabels);
      const chart = new Chart(document.getElementById('canvas').getContext('2d'), {
        type: 'tree',
        data: {
          labels: [],
          datasets: [
            {
              pointBackgroundColor: 'steelblue',
              pointRadius: 5,
              data: [
                { name: '1', x: null, y: null },
                { name: '11', parent: 0, x: null, y: null },
                { name: '111', parent: 1, x: null, y: null },
                { name: '1111', parent: 2, x: null, y: null },
                { name: '1112', parent: 2, x: null, y: null },
                { name: '112', parent: 1, x: null, y: null },
                { name: '1121', parent: 5, x: null, y: null },
                { name: '1122', parent: 5, x: null, y: null },
                { name: '113', parent: 1, x: null, y: null },
                { name: '1131', parent: 8, x: null, y: null },
                { name: '1132', parent: 8, x: null, y: null },
                { name: '12', parent: 0, x: null, y: null },
                { name: '121', parent: 11, x: null, y: null },
                { name: '1211', parent: 12, x: null, y: null },
                { name: '1212', parent: 12, x: null, y: null },
                { name: '122', parent: 11, x: null, y: null },
                { name: '1221', parent: 15, x: null, y: null },
                { name: '1222', parent: 15, x: null, y: null },
                { name: '123', parent: 11, x: null, y: null },
                { name: '1231', parent: 18, x: null, y: null },
                { name: '1232', parent: 18, x: null, y: null },
                { name: '13', parent: 0, x: null, y: null },
                { name: '131', parent: 21, x: null, y: null },
              ],
            },
          ],
        },
        options: {
          legend: {
            display: false,
          },
          plugins: {
            dragData: {
              dragX: true,
              dragY: true,
            },
            // datalabels: {
            //   color: '#36A2EB',
            //   labels: {
            //     value: null
            //   }
            // }
          },
        },
      });
      const destroy = document.getElementById('destroy');
      destroy.onclick = () => {
        chart.destroy();
        console.log('ddd');
      };
    </script>
  </body>
</html>
